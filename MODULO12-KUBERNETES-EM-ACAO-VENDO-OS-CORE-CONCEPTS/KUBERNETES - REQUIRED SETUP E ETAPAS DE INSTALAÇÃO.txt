






INSTALAÇÃO...









OK... O QUE PRECISAMOS INSTALAR PARA CONSEGUIR USAR O KUBERNETES LOCALMENTE,

NA NOSSA LOCAL MACHINE?











--> BEM, O QUE PRECISAMOS INSTALAR É ALGO OBRIGATÓRIO,



NÃO INTERESSA SE FALAMOS DE NOSSA LOCAL MACHINE OU 

1 

MACHINE 






LÁ NA CLOUD, OU NO NOSSO DATA CENTER...
















----> BEM, PRECISAMOS DE 1 CLUSTER...












1 CLUSTER COM:










1) NOSSO MASTER NODE ------> NA REALIDADE, ESSE MASTER NODE PODE SER ACTUALLY 
DISTRIBUÍDO EM MÚLTIPLAS MACHINES... PQ, SE O SEU MASTER NODE FALHAR,

SEU CLUSTER INTEIRO TERÁ 1 PROBLEMA...







--> OK, MAS PARA MANTER AS COISAS SIMPLES,

PRECISAMOS DE 1 MÁQUINA INTEIRA 




SENDO RODADA COMO ESSE MASTER NODE.... --> 1 VIRTUAL INSTANCE, RODANDO EM 1 CLUSTER,

QUE 

TEM ESSE MASTER NODE SETTADO....









2) PRECISAMOS DE 1 OU MAIS WORKER NODES... --> E PRECISAMOS 



NÃO SÓ DESSAS MÁQUINAS,


MAS TAMBÉM PRECISAMOS TER TODO O 'SOFTWARE'



E 


'SERVICES' 

__ NECESSÁRIOS A ELES,



INSTALADOS DENTRO DELES -->  

















1) NO MASTER NODE, PRECISAMOS DO 'API SERVER', 'SCHEDULER', E OUTRAS COISAS...











2) NOS WORKER NODES: PRECISAMOS DO DOCKER, DO KUBELET (communication device para falar com O server API Do master node)...

















OK... PRECISAMOS CRIAR TUDO ISSO, E INSTALAR TUDO ISSO...












--> TAMBÉM PRECISAMOS DE OUTRA COISA, LOCALMENTE NA NOSSA MACHINE,


QUE É O 'kubectl'...











KUBECTL --> É A 'KUBE CONTROL TOOL'...









3) KUBE CONTROL TOOL -------> É UMA TOOL QUE ACTUALLY USAREMOS PARA ENVIAR 

INSTRUCTIONS  __ AO __ CLUSTER.... ----------> PARA, POR EXEMPLO,

'CREATE A NEW DEPLOYMENT',



ou para



'DELETE A DEPLOYMENT',


ou para 

'CHANGE A RUNNING DEPLOYMENT'...















KUBE CTL --> 'A TOOL FOR SENDING INSTRUCTIONS TO THE CLUSTER' (like a new deployment, for example)...















COM A 'KUBE CONTROL TOOL',

VC, COMO O DEV E ADMIN,




É CAPAZ DE ENVIAR INSTRUCTIONS AO MASTER NODE, QUE, NO FINAL DAS CONTAS,



VAI 
FAZER 


'WHATEVER IT NEEDS TO DO'



COM OS WORKER NODES... ->  OU SEJA,



SE 

VC 



ENVIA A INSTRUCTION DE 'CREATE MORE PODS DE 1 DETERMINADO CONTAINER' (mais instances de 1 given container),






O MASTER NODE VAI ENTÃO INTERAGIR COM OS WORKER NODES,

DE MODO QUE 

ESSES EXTRA PODS SERÃO CRIADOS...












-> É ASSIM QUE ACTUALLY SETTAMOS/MUDAMOS A CONFIGURATION






QUE __ DEVERÁ SER 'MAINTAINED' PELO KUBERNETES...














-> ISSO QUER DIZER QUE O 'CLUSTER' É A '''TECHNICAL INFRASTRUCTURE'' (a coisa física, bloco físico),



E o
 


 'KUBE CONTROL TOOL' (kubectl ) É 




 O COMMUNICATION DEVICE USADO PARA CONVERSAR COM AQUELA INFRASTRUCTURE,

 E PARA 



__ CONVERSAR COM AQUELE KUBERNETES SETUP...












--> NÃO CONFUNDA 


O KUBECTL TOOL 



COM O 
'API SERVER'



OU 

COM O 


'MASTER NODE'..










--> PQ O 'MASTER NODE'


É ACTUALLY A 'COISA DENTRO DO SEU CLUSTER'


QUE 


__ VAI BASICAMENTE APLICAR SEUS COMANDOS,



E VAI __ GARANTIR QUE SEUS COMANDOS SERÃO 

EXECUTADOS 

CORRETAMENTE...














O 'KUBECTL'


É APENAS A COISA COM QUE _ VC __ DÁ OS COMANDOS...
















VC PODE COMPARAR ISSO COM 



O PRESIDENTE DOS ESTADOS UNIDOS --> É O 'COMMANDER IN-CHIEF' -> ELE 



PODE ESCOLHER QUAL PAÍS DEVE SER ATACADO,






MAS AÍ VC TEM GENERAIS,



NO EXÉRCITO,

COM SOLDIERS, ABAIXO DELES,

QUE 



EXECUTAM ESSES COMANDOS -->  E É JUSTAMENTE 

O TRABALHO 


DOS GENERAIS 



GARANTIR QUE 

O COMANDO  DO PRESIDENTE 


SERÁ 



EXECUTADO CORRETAMENTE..












KUBECTL --> O PRESIDENTE 




MASTER NODE --> GENERAL 



WORKER NODES --> SOLDIERS....















É ISSO QUE PRECISAMOS SETTAR...












--> E SE SETTÁSSEMOS ISSO NA CLOUD OU NO NOSSO DATA CENTER,











O 'CLUSTER' SERIA O QUE ACONTECE NA __ cLOUD__ E NO DATA CENTER,



AO PASSO QUE 

O 

'KUBECTL'


É UMA TOOL QUE ___ 

INSTALAMOS LOCALMENTE,

NA NOSSA LOCAL MACHINE...








--> OK... PARA O TESTING E PARA O PLAY AROUND COM ISSO TUDO,


VAMOS SETTAR TUDO 



NA NOSSA LOCAL MACHINE... NÃO SÓ O 'KUBECTL',


MAS TAMBÉM UM 



DEMO/DUMMY CLUSTER....

















--> PARA SETTAR ESSE DUMMY-CLUSTER LOCALMENTE,

PODEMOS USAR 1 FERRAMENTA CHAMADA DE 'MINI-KUBE'...















--> VAMOS SETTAR ESSE MINIKUBE


NA PRÓXIMA LIÇÃO...












MINIKUBE --> É UMA FERRAMENTA QUE PODEMOS INSTALAR LOCALMENTE,


E É USADA  





PARA 'PLAY AROUND'
 
 COM O KUBERNETES,

 E PARA 


 TESTAR COISAS DO KUBERNETES...










--> O MINIKUBE USA UMA 'VIRTUAL MACHINE' NA SUA MÁQUINA,








NA SUA LOCAL MACHINE,
PARA 

ENTÃO 



CRIAR O CLUSTER LÁ DENTRO (

    ele simula uma outra máquina, dentro da sua máquina,


    POR MEIO DO USO DE ESSA VIRTUAL MACHINE...
)












ESSA VIRTUAL MACHINE VAI SEGURAR 1 CLUSTER... ------> OK...














ELE VAI ACTUALLY CRIAR 1 'SINGLE NODE CLUSTER',


O QUE 
QUER DIZER QUE 




O MASTER E WORKER NODES ESTARÃO COMBINADOS 

EM 




'ONE SINGLE VIRTUAL MACHINE' -------> NÃO É ALGO QUE 

FAREMOS DURANTE PRODUCTION,



MAS É ALGO QUE FAREMOS 

DURANTE O DEVELOPMNET,

PARA 


MANTER AS COISAS 

'EASY AND RESOURCE-FRIENDLY'...











--> E O MINIKUBE É UMA EXCELENTE FERRAMENTA PARA COMEÇARMOS COM O KUBERNETES 

E TESTARMOS TUDO LOCALMENTE...










E O MINIKUBE FUNCIONA NO LINUX, MACOS E WINDOWS...











--> VEREMOS O TUTORIAL DO WINDOWS...









-> TAMBÉM VALE A PENA MENCIONAR QUE O MINIKUBE NÃO VAI SUBSTITUIR O COMANDO DE 

'kubectl',






A FERRAMENTA 'KUBECTL',

QUE 

SEMPRE É NECESSÁRIA... --> ESSA TOOL É SEMPRE NECESSÁRIA LOCALMENTE,



MESMO NOS CASOS EM QUE VC NÃO USA O MINIKUBE...
















PQ O KUBECTL É REALMENTE A FERRAMENTA QUE VC USA PARA 

SE COMUNICAR COM SEU CLUSTER --------> NÃO INTERESSA SE É UM CLUSTER LOCAL, NA SUA LOCAL MACHINE,

OU UM CLOUD CLUSTER,

RODANDO EM ALGO COMO A AWS...











NA PRÓXIMA AULA,
INSTALAREMOS 

'kubectl' 

e 
'minikube'...