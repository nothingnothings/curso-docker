













--> INSTALANDO KUBERNETES, COM O MINIKUBE...















--> VAMOS INSTALAR O KUBE CONTROL TOOL  (kubectl) 


E O MINIKUBE 


NO WINDOWS...














--> BEM, PARA INSTALAR O MINIKUBE,





QUE _ √â ESSA FERRAMENTA QUE 

CRIA ESSE CLUSTER-PLAYGROUND NO NOSSO SISTEMA,



DEVEMOS 




SEGUIR AS 


INSTRU√á√ïES DE INSTALA√á√ÉO..









NESSAS INSTRU√á√ïES, PRIMEIRAMENTE 


DEVEMOS 


INVESTIGAR SE TEMOS 


O SETUP CORRETO..












--> DEVEMOS RODAR 'systeminfo'


NO COMMAND PROMPT...














--> CERTO... ISSO FEITO,

TEREMOS 1 OUTPUT LONGO...









--> SE ENXERGARMOS 

'A HYPERVISOR HAS BEEN DETECTED',







J√Å TEREMOS TODAS AS COISAS 

NECESS√ÅRIAS J√Å INSTALADAS..










--> O PROFESSOR VAI USAR O 'VIRTUALBOX' COMO HYPERVISOR (em vez do built-in hyper-v do windows)...










-> PQ O VIRTUALBOX VAI FUNCIONAR EM QUALQUER 


SISTEMA,



AO CONTR√ÅRIO DO HYPER-V DO WINDOWS 10 PRO...





--> SE SEU SISTEMA N√ÉO SATISFAZER OS REQUISITOS,

VC N√ÉO PODER√Å 


INSTALAR O MINIKUBE..














OK... INSTALADO ESSE NEG√ìCIO,








VAMOS QUERER INSTALAR A 'KUBECTL' ,


kube control tool...











ESSA TOOL DEVE ESTAR PRESENTE SEMPRE,



MESMO QUE N√ÉO INSTALEMOS 


O MINIKUBE LOCALMENTE -->  PQ √â JUSTAMENTE O KUBE CONTROL TOOL 

QUE 

NOS DEIXA 


COMUNICAR COM O CLUSTER,




E √â O KUBE CONTROL TOOL QUE 

NOS DEIXA 

ENVIAR 



INSTRU√á√ïES AO CLUSTER...










--> OK... VAMOS INSTALAR ESSE NEG√ìCIO..













-> PARA INSTALAR ISSO NO WINDOWS,



TEMOS DIFERENTES 



OP√á√ïES...








--> O PROFESSOR PREFERE O M√âTOOD QUE USA O 'CHOCOLATEY'...











-> √â 1 PACKAGE MANAGER PARA O WINDOWS....








RODAMOS 



ESTE COMANDO, NO POWERSHELL:



choco install minikube














OK... ISSO VAI INSTALAR O minikube..









-> TAMB√âM DEVEMOS INSTALAR O 'KUBE CONTROL TOOL',


POR MEIO DO COMANDO 


'choco install kubernetes-cli'... (mas isso √© instalado junto do minikube, ent√£o nem mesmo precisamos desse comando)
















ok... 







AS 2 COISAS FORAM INSTALADAS....










para verificar se isso funcionou,


rode 'kubectl version --client'...















ok... essa √© a kube control tool,


QUE ESTAR√Å INSTALADA NA NOSSA MACHINE...











SEMPRE USAREMOS A KUBE CONTROL  TOOL,








J√Å O MINIKUBE S√ì USAREMOS PARA TESTES NA NOSSA LOCAL MACHINE...












OK... O PROFESSOR ENT√ÉO PEDE QUE ENTREMOS NO PERFIL DE NOSSO USU√ÅRIO,

E ENT√ÉO QUE 


CRIEMOS UM FOLDER DE '.kube'...
TIPO ASSIM:










cd %USERPROFILE% 

mkdir .kube 












--> ENTRE NESSE FOLDER DO '.kube'

E CRIE 1 NOVO DOCUMENTO DE TEXTO,


SEM EXTENS√ÉO,


s√≥ com nome 'config'...











--> OK... CRIAMOS ESSE ARQUIVO 'config'...









- PODEMOS DEIXAR ELE EM BRANCO...














--> o minikube j√° foi instalado...
















--> OK... 








AGORA VAMOS CONFIRMAR SE O MINIKUBE EST√Å INSTALADO... --> PARA ISSO,

 
 VAMOS 

 CRIAR 1 NOVO CLUSTER.. --> NO CASO DO MINIKUBE,


 ISSO QUER DIZER QUE 

 VAMOS CRIAR 

 1 

 NOVA VIRTUAL MACHINE...








 FAREMOS ISSO COM 

 'minikube start --driver=<driver_de_sua_escolha>'..











 VEREMOS O QUE S√ÉO OS 'DRIVER' depois...








 -> O VALUE PARA SEU DRIVER DEVE SER O VISUALIZATION DRIVER QUE 
 VC 

EST√Å USANDO...









--> OK... 









COMO ESTOU NO WINDOWS,



NESSE MEU SETUP,


DEVO COLOCAR 'hyperv'...








-->'''' VC TAMB√âM PODE TENTAR '--driver=docker' --> SE ISSO FUNCIONA,

VC PODE USAR ISSO EM VEZ DE VIRTUALBOX... -> O CLUSTER ENT√ÉO SER√Å CRIADO 


EM 1 DOCKER CONTAINER.... (voc√™ pode checar isso com 'docker ps', mais tarde)...




C:\Users\Usu√°rio>minikube start --driver=hyperv
üòÑ  minikube v1.30.1 on Microsoft Windows 10 Pro 10.0.19044.2486 Build 19044.2486
‚ú®  Using the hyperv driver based on user configuration

üí£  Exiting due to PROVIDER_HYPERV_NOT_RUNNING: Hyper-V requires Administrator privileges
üí°  Suggestion: Right-click the PowerShell icon and select Run as Administrator to open PowerShell in elevated mode.









OK.. PRECISO TER RODADO NO MODO ADMIN...













ISSO VAI CRIAR 1 NOVA VIRTUAL MACHINE,

 COM A AJUDA DO HYPERV,


QUE 

VAI SEGURAR SEU DEVELOPMENT CLUSTER...









--> E ELE VAI SETTAR AQUELE NODE H√çBRIDO,
QUE SER√ÅA 

O MASTER NODE E WORKER NODE 



EM 


1 

NODE S√ì... --> pq, em development,

n√£o existir√° problema nisso...












--. O NEG√ìCIO TAMB√âM VAI INSTALAR TODO O SOFTWARE 

NECESS√ÅRIO AO KUBERNETES,

COMO:




1) API SERVER 

2) KUBELET 

3) TUDO...









VAI SETTAR TUDO PARA N√ìS,
DENTRO

DESSA ENCAPSULATED 

VIRTUAL MACHINE...









ESPERAMOS ISSO TERMINAR... ISSO FEITO,


VAMOS 



VER SE ISSO FUNCIONA..










'hyperv' --> ISSO CONFLITA COM O VIRTUAL BOX --> devemos escolher 1 deles...











-> certo...




TEREMOS ESSE CLUSTER RODANDO NESSA VIRTUAL MACHINE...









COM ISSO PRONTO, ESTAMOS PRONTOS 

PARA 


COME√áAR COM O MINIKUBE 

E 


O 

'KUBECTL'


NO NOSSO LOCAL SYSTEM...










--> SE RODAMOS 'minikube status',

VEREMOS 
'RUNNING'


EM V√ÅRIAS COISAS,  O QUE QUER DIZER QUE A COISA DEU CERTO...








--> PODEMOS TER 1 DASHBOARD DO MINIKUBE,
COM 



o comando 

'minikube dashboard'..











-> VAI ABRIR 1 ABA NO NAVEGADOR,

CONSTRU√çDA PELO MINIKUBE,

QUE VAI TE DEIXAR 

VER 


DENTRO DO SEU CLUSTER...








--> PODEREMOS VER OS PODS,


REPLICA SETS,


V√ÅRIAS COISAS.. TAMB√âM CRON JOBS...











-> ainda n√£o temos nenhum pod,

mas 

isso ser√° √∫til mais tarde, 

para ver quais resources foram criados pelo kubernetes...





OK... ESSE FOI O MINIKUBE E O KUBE CONTROL TOOL...





AGORA DEVEMOS COME√áAR A TRABALHAR COM O KUBERNETES,

COM ESSE 




LOCAL DEVELOPMENT E COM ESSE DUMMY CLUSTER...